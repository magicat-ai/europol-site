---
import { UserCheck, Building2, Brain } from 'lucide-astro';

interface Props {
  title: string;
  description: string;
  href: string;
  icon?: 'UserCheck' | 'Building2' | 'Brain';
  featured?: boolean;
}

const { title, description, href, icon = 'UserCheck', featured = false } = Astro.props;

const iconMap = {
  UserCheck: UserCheck,
  Building2: Building2,
  Brain: Brain,
};

const IconComponent = iconMap[icon] || UserCheck;
---

<a 
  href={href}
  class={`premium-service-card-large group block rounded-3xl overflow-hidden transition-all duration-500 hover:scale-[1.02] hover:shadow-2xl relative ${
    featured ? 'md:col-span-2' : ''
  }`}
  style="background: linear-gradient(135deg, #ffffff 0%, #fafafa 100%); border: 1px solid rgba(11, 11, 11, 0.08);"
>
  <!-- Decorative Background Pattern -->
  <div class="absolute inset-0 card-pattern opacity-[0.03]"></div>
  
  <!-- Gradient Overlay on Hover -->
  <div class="absolute inset-0 bg-gradient-to-br from-transparent via-transparent to-rgba(184, 134, 11, 0.05) opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
  
  <div class="relative z-10 p-10 md:p-12 lg:p-16">
    <!-- Icon Container -->
    <div class="mb-8">
      <div class="w-20 h-20 md:w-24 md:h-24 rounded-3xl flex items-center justify-center transition-all duration-500 group-hover:scale-110 group-hover:rotate-6 relative" style="background: linear-gradient(135deg, rgba(184, 134, 11, 0.15), rgba(184, 134, 11, 0.08)); border: 2px solid rgba(184, 134, 11, 0.2); box-shadow: 0 8px 24px rgba(184, 134, 11, 0.15);">
        <IconComponent size={48} stroke-width={1.5} style="color: var(--color-accent);" class="relative z-10" />
        <div class="absolute inset-0 rounded-3xl bg-gradient-to-br from-transparent via-transparent to-rgba(184, 134, 11, 0.1) opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
      </div>
    </div>
    
    <!-- Content -->
    <h3 class="text-3xl md:text-4xl lg:text-5xl font-bold mb-6 leading-tight" style="color: var(--color-black); font-family: 'Playfair Display', serif; letter-spacing: -0.03em;">
      {title}
    </h3>
    <p class="text-lg md:text-xl mb-8 leading-relaxed" style="color: var(--color-text-light); line-height: 1.8;">
      {description}
    </p>
    
    <!-- CTA -->
    <span class="inline-flex items-center gap-3 text-lg font-semibold group-hover:gap-5 transition-all relative" style="color: var(--color-accent);">
      Scopri di pi√π
      <svg class="w-6 h-6 transition-transform duration-300 group-hover:translate-x-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
      </svg>
    </span>
    
    <!-- Decorative Bottom Accent -->
    <div class="absolute bottom-0 left-0 right-0 h-2 bg-gradient-to-r from-transparent via-var(--color-accent) to-transparent transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500 origin-center"></div>
  </div>
  
  <!-- Corner Decoration -->
  <div class="absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-rgba(184, 134, 11, 0.08) to-transparent rounded-bl-full opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
</a>

<style>
  .premium-service-card-large {
    position: relative;
    overflow: hidden;
  }

  .card-pattern {
    background-image: 
      radial-gradient(circle at 2px 2px, rgba(184, 134, 11, 0.2) 1px, transparent 0),
      radial-gradient(circle at 20px 20px, rgba(184, 134, 11, 0.1) 1px, transparent 0);
    background-size: 40px 40px, 80px 80px;
  }

  @media (max-width: 768px) {
    .premium-service-card-large {
      padding: 2rem;
    }
  }
</style>

